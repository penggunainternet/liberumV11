# Tabel Pengujian Fungsionalitas API Backend

## Tabel 1. Modul Autentikasi

| No  | Modul       | Skenario Pengujian                                                                                                                                                                                                                              | Hasil yang Diharapkan                                           | Deskripsi                                                                                                                                                                                                                                      |
| --- | ----------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1.  | Login       | **Request**: POST ke `http://localhost:3000/api/login` <br><br> **Body (JSON)**: <br>`json<br>{ <br>  "email": "user@example.com",<br>  "password": "password123"<br>}`                                                                         | Berhasil login, menerima token JWT dalam respons, status 200 OK | **Status**: 200 OK<br><br>**Respons Body (JSON)**:<br>`json<br>{<br>  "message": "Login successful",<br>  "accessToken": "eyJ0...",<br>  "user": {<br>    "id": 1,<br>    "name": "User Name",<br>    "email": "user@example.com"<br>  }<br>}` |
| 2.  | Register    | **Request**: POST ke `http://localhost:3000/api/register`<br><br>**Body (JSON)**:<br>`json<br>{<br>  "name": "New User",<br>  "email": "newuser@example.com",<br>  "password": "password123",<br>  "password_confirmation": "password123"<br>}` | Berhasil registrasi, akun baru dibuat, status 201 Created       | **Status**: 201 Created<br><br>**Respons Body (JSON)**:<br>`json<br>{<br>  "message": "Registration successful",<br>  "user": {<br>    "id": 2,<br>    "name": "New User",<br>    "email": "newuser@example.com"<br>  }<br>}`                  |
| 3.  | Logout      | **Request**: POST ke `http://localhost:3000/api/logout`<br><br>**Headers**:<br>`Authorization: Bearer {token}`                                                                                                                                  | Token diinvalidasi, user berhasil logout                        | **Status**: 200 OK<br><br>**Respons Body (JSON)**:<br>`json<br>{<br>  "message": "Successfully logged out"<br>}`                                                                                                                               |
| 4.  | Get Profile | **Request**: GET ke `http://localhost:3000/api/me`<br><br>**Headers**:<br>`Authorization: Bearer {token}`                                                                                                                                       | Mendapatkan data profil user yang sedang login                  | **Status**: 200 OK<br><br>**Respons Body (JSON)**:<br>`json<br>{<br>  "id": 1,<br>  "name": "User Name",<br>  "email": "user@example.com",<br>  "profile_photo_url": "https://..."<br>}`                                                       |

## Tabel 2. Modul Thread

| No  | Modul         | Skenario Pengujian                                                                                                                                                                                                                           | Hasil yang Diharapkan           | Deskripsi                                                                                                                                                                                                                                                                                                    |
| --- | ------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------- | ------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------ |
| 1.  | List Threads  | **Request**: GET ke `http://localhost:3000/api/threads`<br><br>**Headers**:<br>`Authorization: Bearer {token}`                                                                                                                               | Daftar thread dengan pagination | **Status**: 200 OK<br><br>**Respons Body (JSON)**:<br>`json<br>{<br>  "data": [<br>    {<br>      "id": 1,<br>      "title": "Thread Title",<br>      "slug": "thread-title",<br>      "body": "Thread content..."<br>    }<br>  ],<br>  "meta": {<br>    "current_page": 1,<br>    "total": 50<br>  }<br>}` |
| 2.  | Create Thread | **Request**: POST ke `http://localhost:3000/api/threads`<br><br>**Headers**:<br>`Authorization: Bearer {token}`<br><br>**Body (JSON)**:<br>`json<br>{<br>  "title": "New Thread",<br>  "body": "Thread content",<br>  "category_id": 1<br>}` | Thread baru berhasil dibuat     | **Status**: 201 Created<br><br>**Respons Body (JSON)**:<br>`json<br>{<br>  "message": "Thread created successfully",<br>  "thread": {<br>    "id": 2,<br>    "title": "New Thread",<br>    "slug": "new-thread"<br>  }<br>}`                                                                                 |
| 3.  | Update Thread | **Request**: PUT ke `http://localhost:3000/api/threads/{id}`<br><br>**Headers**:<br>`Authorization: Bearer {token}`<br><br>**Body (JSON)**:<br>`json<br>{<br>  "title": "Updated Title",<br>  "body": "Updated content"<br>}`                | Thread berhasil diupdate        | **Status**: 200 OK<br><br>**Respons Body (JSON)**:<br>`json<br>{<br>  "message": "Thread updated successfully",<br>  "thread": {<br>    "id": 2,<br>    "title": "Updated Title"<br>  }<br>}`                                                                                                                |
| 4.  | Delete Thread | **Request**: DELETE ke `http://localhost:3000/api/threads/{id}`<br><br>**Headers**:<br>`Authorization: Bearer {token}`                                                                                                                       | Thread berhasil dihapus         | **Status**: 200 OK<br><br>**Respons Body (JSON)**:<br>`json<br>{<br>  "message": "Thread deleted successfully"<br>}`                                                                                                                                                                                         |

## Tabel 3. Modul Reply

| No  | Modul        | Skenario Pengujian                                                                                                                                                                                          | Hasil yang Diharapkan   | Deskripsi                                                                                                                                                                                       |
| --- | ------------ | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1.  | Create Reply | **Request**: POST ke `http://localhost:3000/api/reply`<br><br>**Headers**:<br>`Authorization: Bearer {token}`<br><br>**Body (JSON)**:<br>`json<br>{<br>  "thread_id": 1,<br>  "body": "Reply content"<br>}` | Reply berhasil dibuat   | **Status**: 201 Created<br><br>**Respons Body (JSON)**:<br>`json<br>{<br>  "message": "Reply created successfully",<br>  "reply": {<br>    "id": 1,<br>    "body": "Reply content"<br>  }<br>}` |
| 2.  | Update Reply | **Request**: PUT ke `http://localhost:3000/api/reply/{id}`<br><br>**Headers**:<br>`Authorization: Bearer {token}`<br><br>**Body (JSON)**:<br>`json<br>{<br>  "body": "Updated reply"<br>}`                  | Reply berhasil diupdate | **Status**: 200 OK<br><br>**Respons Body (JSON)**:<br>`json<br>{<br>  "message": "Reply updated successfully",<br>  "reply": {<br>    "id": 1,<br>    "body": "Updated reply"<br>  }<br>}`      |
| 3.  | Delete Reply | **Request**: DELETE ke `http://localhost:3000/api/reply/{id}`<br><br>**Headers**:<br>`Authorization: Bearer {token}`                                                                                        | Reply berhasil dihapus  | **Status**: 200 OK<br><br>**Respons Body (JSON)**:<br>`json<br>{<br>  "message": "Reply deleted successfully"<br>}`                                                                             |

## Tabel 4. Modul Category

| No  | Modul           | Skenario Pengujian                                                                                                                                                                                 | Hasil yang Diharapkan         | Deskripsi                                                                                                                                                                                                                           |
| --- | --------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- | ----------------------------- | ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------- |
| 1.  | List Categories | **Request**: GET ke `http://localhost:3000/api/categories`<br><br>**Headers**:<br>`Authorization: Bearer {token}`                                                                                  | Daftar kategori               | **Status**: 200 OK<br><br>**Respons Body (JSON)**:<br>`json<br>{<br>  "data": [<br>    {<br>      "id": 1,<br>      "name": "Category Name",<br>      "slug": "category-name"<br>    }<br>  ]<br>}`                                 |
| 2.  | Create Category | **Request**: POST ke `http://localhost:3000/api/categories`<br><br>**Headers**:<br>`Authorization: Bearer {token}`<br><br>**Body (JSON)**:<br>`json<br>{<br>  "name": "New Category"<br>}`         | Kategori baru berhasil dibuat | **Status**: 201 Created<br><br>**Respons Body (JSON)**:<br>`json<br>{<br>  "message": "Category created successfully",<br>  "category": {<br>    "id": 2,<br>    "name": "New Category",<br>    "slug": "new-category"<br>  }<br>}` |
| 3.  | Update Category | **Request**: PUT ke `http://localhost:3000/api/categories/{id}`<br><br>**Headers**:<br>`Authorization: Bearer {token}`<br><br>**Body (JSON)**:<br>`json<br>{<br>  "name": "Updated Category"<br>}` | Kategori berhasil diupdate    | **Status**: 200 OK<br><br>**Respons Body (JSON)**:<br>`json<br>{<br>  "message": "Category updated successfully",<br>  "category": {<br>    "id": 2,<br>    "name": "Updated Category"<br>  }<br>}`                                 |
| 4.  | Delete Category | **Request**: DELETE ke `http://localhost:3000/api/categories/{id}`<br><br>**Headers**:<br>`Authorization: Bearer {token}`                                                                          | Kategori berhasil dihapus     | **Status**: 200 OK<br><br>**Respons Body (JSON)**:<br>`json<br>{<br>  "message": "Category deleted successfully"<br>}`                                                                                                              |

> **Catatan**:
>
> -   Semua endpoint kecuali login dan register memerlukan autentikasi menggunakan token JWT
> -   Token harus disertakan dalam header `Authorization: Bearer {token}`
> -   Response status 401 Unauthorized akan diberikan jika token tidak valid atau tidak ada
> -   Format response error umumnya:
>     ```json
>     {
>         "message": "Error message here",
>         "errors": {
>             "field": ["Error detail"]
>         }
>     }
>     ```
